(this["webpackJsonpasg1-app"]=this["webpackJsonpasg1-app"]||[]).push([[0],{25:function(e,t,a){e.exports=a(38)},30:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),s=a.n(i),l=(a(30),a(10)),o=a.n(l),c=a(14),m=a(1),u=a(2),p=a(4),d=a(3),v=a(5),h=a(12),b=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).modalHandler=function(){0==a.state.modal?(document.getElementById("modal").className="modal is-active",a.setState({modal:!0})):(document.getElementById("modal").className="modal",a.setState({modal:!1}))},a.state={modal:!1},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"hero-head"},r.a.createElement("nav",{className:"navbar has-background-white-ter"},r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("h1",{className:"title"},"Quinn's Movie App"))),r.a.createElement("div",{className:"navbar-end"},r.a.createElement(h.b,{to:"/home"},r.a.createElement("div",{className:"navbar-item"},"Home")),r.a.createElement(h.b,{to:"/browse"},r.a.createElement("div",{className:"navbar-item"},"Browse")),r.a.createElement("div",null,r.a.createElement("div",{className:"navbar-item",onClick:this.modalHandler},"About")),r.a.createElement("div",{id:"modal",className:"modal"},r.a.createElement("div",{className:"modal-background",onClick:this.modalHandler}),r.a.createElement("div",{className:"modal-content",onClick:this.modalHandler},r.a.createElement("div",{className:"box"},r.a.createElement("p",{className:"subtitle"},"Credits:"),r.a.createElement("a",{href:"https://bulma.io/documentation/"},"CSS provided by Bulma CSS framework"),r.a.createElement("p",null,"Homepage Photo: Photo by Nathan DeFiesta on Unsplash"),r.a.createElement("p",null,"Made by: Quinn Cooper qcoop918@mtroyal.ca"),r.a.createElement("p",null,"Made using React"))))))))}}]),t}(r.a.Component),f=(a(37),a(13)),E=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState({title:e.target.value})},a.handleClick=function(){a.props.getTitle(a.state.title)},a.state={title:""},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Background hero-body columns",style:{backgroundImage:"url(https://images.unsplash.com/photo-1534253893894-10d024888e49?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2250&q=80)",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"}},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:" column is-one-half has-text-centered has-background-white-ter box"},r.a.createElement("h1",{className:"title"},"Search Movies"),r.a.createElement("input",{className:"input",type:"text",name:"filter",value:this.state.title,onChange:this.handleChange}),r.a.createElement(h.b,{to:"/browse"},r.a.createElement("button",{className:"button",onClick:this.handleClick},"Search"))),r.a.createElement("div",{className:"column"}))}}]),t}(r.a.Component),g=a(8),N=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).submit=function(){a.props.setFilters(a.state.title,a.state.yBefore,a.state.yBeforeVal,a.state.yAfter,a.state.yAfterVal,a.state.yBetween,a.state.yBetweenVal1,a.state.yBetweenVal2,a.state.rBelow,a.state.rBelowVal,a.state.rAbove,a.state.rAboveVal,a.state.rBetween,a.state.rBetweenVal1,a.state.rBetweenVal2)},a.clear=function(){a.props.clearFilters(),document.getElementById("filters").reset(),a.setState={title:"",yBefore:!1,yBeforeVal:"",yAfter:!1,yAfterVal:"",yBetween:!1,yBetweenVal1:"",yBetweenVal2:"",rBelow:!1,rBelowVal:"5",rAbove:!1,rAboveVal:"5",rBetween:!1,rBetweenVal1:"5",rBetweenVal2:"5"}},a.handleChange=function(e){var t=a.state;"year"==e.target.name?(t.yBefore=!1,t.yAfter=!1,t.yBetween=!1,t[e.target.id]=e.target.value):"rating"==e.target.name?(t.rBelow=!1,t.rAbove=!1,t.rBetween=!1,t[e.target.id]=e.target.value):t[e.target.name]=e.target.value,a.setState(t)},a.state={title:a.props.title,yBefore:!1,yBeforeVal:"",yAfter:!1,yAfterVal:"",yBetween:!1,yBetweenVal1:"",yBetweenVal2:"",rBelow:!1,rBelowVal:"5",rAbove:!1,rAboveVal:"5",rBetween:!1,rBetweenVal1:"5",rBetweenVal2:"5"},a.submit(),a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t,a;return r.a.createElement("div",{className:"tile is-vertical is-3 box"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("h3",{className:"title"},"Movie Filters")),r.a.createElement("div",{className:"level"},r.a.createElement("button",{className:"button",onClick:this.submit},"Search"),r.a.createElement("button",{className:"button",onClick:this.clear},"Clear")),r.a.createElement("form",{className:"field",id:"filters"},r.a.createElement("p",{className:"subtitle is-marginless"},"Title"),r.a.createElement("input",{className:"input",type:"text",value:this.state.title,name:"title",onChange:this.handleChange}),r.a.createElement("p",{className:"subtitle is-marginless"},"Year"),r.a.createElement("div",{className:"radio"},r.a.createElement("input",(e={className:"radio is-pulled-right",type:"radio",value:!0},Object(g.a)(e,"className","yCheck"),Object(g.a)(e,"id","yBefore"),Object(g.a)(e,"name","year"),Object(g.a)(e,"onChange",this.handleChange),e)),r.a.createElement("p",{className:"is-inline"}," Before")),r.a.createElement("input",{className:"input",type:"number",min:"1900",max:"2020",name:"yBeforeVal",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("div",{className:"radio"},r.a.createElement("input",(t={className:"radio",type:"radio",value:!0},Object(g.a)(t,"className","yCheck"),Object(g.a)(t,"id","yAfter"),Object(g.a)(t,"name","year"),Object(g.a)(t,"onChange",this.handleChange),t)),r.a.createElement("p",{className:"is-inline"}," After")),r.a.createElement("input",{className:"input",type:"number",min:"1900",max:"2020",name:"yAfterVal",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("div",{className:"radio"},r.a.createElement("input",(a={className:"radio",type:"radio",value:!0},Object(g.a)(a,"className","yCheck"),Object(g.a)(a,"id","yBetween"),Object(g.a)(a,"name","year"),Object(g.a)(a,"onChange",this.handleChange),a)),r.a.createElement("p",{className:"is-inline"}," Between")),r.a.createElement("input",{className:"input",type:"number",min:"1900",max:this.state.yBetweenVal2,name:"yBetweenVal1",onChange:this.handleChange}),r.a.createElement("input",{className:"input",type:"number",min:this.state.yBetweenVal1,max:"2020",name:"yBetweenVal2",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle is-marginless"},"Rating"),r.a.createElement("div",{className:"radio"},r.a.createElement("input",{className:"radio",type:"radio",value:!0,id:"rBelow",name:"rating",onChange:this.handleChange}),r.a.createElement("p",{className:"is-inline"}," Below")),r.a.createElement("input",{className:"input",type:"range",step:"0.1",min:"0.0",defaultValue:"5.0",max:"10.0",name:"rBelowVal",onChange:this.handleChange}),r.a.createElement("div",{className:"has-text-centered"},this.state.rBelowVal),r.a.createElement("div",{className:"radio"},r.a.createElement("input",{className:"radio",type:"radio",value:!0,id:"rAbove",name:"rating",onChange:this.handleChange}),r.a.createElement("p",{className:"is-inline"}," Above")),r.a.createElement("input",{className:"input",type:"range",step:"0.1",min:"0.0",defaultValue:"5.0",max:"10.0",name:"rAboveVal",onChange:this.handleChange}),r.a.createElement("div",{className:"has-text-centered"},this.state.rAboveVal),r.a.createElement("div",{className:"radio"},r.a.createElement("input",{type:"radio",value:!0,id:"rBetween",name:"rating",onChange:this.handleChange}),r.a.createElement("p",{className:"is-inline"}," Between")),r.a.createElement("input",{className:"input",type:"range",step:"0.1",min:"0.0",defaultValue:"5.0",max:"10.0",name:"rBetweenVal1",onChange:this.handleChange}),r.a.createElement("div",{className:"has-text-centered"},this.state.rBetweenVal1),r.a.createElement("input",{className:"input",type:"range",step:"0.1",min:"0.0",defaultValue:"5.0",max:"10.0",name:"rBetweenVal2",onChange:this.handleChange}),r.a.createElement("div",{className:"has-text-centered"},this.state.rBetweenVal2)))}}]),t}(r.a.Component),y=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){e.stopPropagation(),a.props.setFavorites(a.props.movie.id)},a.handleMovie=function(){a.props.lookupMovie(a.props.movie.id)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",{className:"",onClick:this.handleMovie},r.a.createElement("td",null,r.a.createElement("img",{className:"",src:"https://image.tmdb.org/t/p/w154/"+this.props.movie.poster})),r.a.createElement("td",{className:"has-text-centered"},this.props.movie.title),r.a.createElement("td",{className:"has-text-centered"},this.props.movie.release_date),r.a.createElement("td",{className:"has-text-centered"},this.props.movie.ratings.average),r.a.createElement("td",null,r.a.createElement("button",{className:"button",onClick:this.handleClick},"\u2764")))}}]),t}(r.a.Component),w=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleTitle=function(){"title"==a.state.sort?a.setState({sortedMovies:a.state.movies.reverse()}):a.setState({sortedMovies:a.sortMoviesTitle(a.props.movies),sort:"title"})},a.handleYear=function(){"year"==a.state.sort?a.setState({sortedMovies:a.state.movies.reverse()}):a.setState({sortedMovies:a.sortMoviesYear(a.props.movies),sort:"year"})},a.handleRating=function(e){"rating"==a.state.sort?a.setState({sortedMovies:a.state.movies.reverse()}):a.setState({sortedMovies:a.sortMoviesRating(a.props.movies),sort:"rating"})},a.sort=function(e){return e.sort((function(e,t){return e.title>t.title?1:t.title>e.title?-1:0}))},a.sortMoviesTitle=function(e){return document.getElementById("title").className="navbar-item pagination-link is-current",document.getElementById("year").className="navbar-item pagination-link",document.getElementById("rating").className="navbar-item pagination-link",e.sort((function(e,t){return e.title>t.title?1:t.title>e.title?-1:0}))},a.sortMoviesYear=function(e){return document.getElementById("title").className="navbar-item pagination-link",document.getElementById("year").className="navbar-item pagination-link is-current",document.getElementById("rating").className="navbar-item pagination-link",e.sort((function(e,t){return t.release_date>e.release_date?1:e.release_date>t.release_date?-1:0}))},a.sortMoviesRating=function(e){return document.getElementById("title").className="navbar-item pagination-link",document.getElementById("year").className="navbar-item pagination-link",document.getElementById("rating").className="navbar-item pagination-link is-current",e.sort((function(e,t){return t.ratings.average>e.ratings.average?1:e.ratings.average>t.ratings.average?-1:0}))},a.state={movies:a.props.movies,sortedMovies:a.sort(a.props.movies),sort:"title"},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.movies!==e.movies&&(this.setState({movies:this.props.movies}),"title"==this.state.sort&&this.setState({sortedMovies:this.sortMoviesTitle(this.props.movies),sort:"title"}),"year"==this.state.sort&&this.setState({sortedMovies:this.sortMoviesYear(this.props.movies),sort:"title"}),"rating"==this.state.sort&&this.setState({sortedMovies:this.sortMoviesRating(this.props.movies),sort:"title"}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tile box is-vertical"},r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("h3",{className:"title"},"Movie List"))),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("p",{id:"title",className:"pagination-link is-current",onClick:this.handleTitle},"Title"),r.a.createElement("p",{className:"pagination-link",id:"year",onClick:this.handleYear},"Year"),r.a.createElement("p",{className:"pagination-link",id:"rating",onClick:this.handleRating},"Rating")))),r.a.createElement("div",{className:""},r.a.createElement("table",{className:"table is-narrow is-hoverable is-fullwidth"},r.a.createElement("tbody",null,this.state.sortedMovies.map((function(t){return r.a.createElement(y,{movie:t,setFavorites:e.props.setFavorites,lookupMovie:e.props.lookupMovie})}))))))}}]),t}(r.a.Component),k=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).deleteHandler=function(e){a.props.deleteFavorite(a.props.movie.id)},a.navigateMovie=function(){a.props.lookupMovie(a.props.movie.id)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"tile is-vertical"},r.a.createElement("img",{onClick:this.navigateMovie,src:"https://image.tmdb.org/t/p/w92/"+this.props.movie.poster}),r.a.createElement("button",{className:"button",onClick:this.deleteHandler},"Delete")),r.a.createElement("div",{className:""}))}}]),t}(r.a.Component),C=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).clickHandler=function(){a.setState({hidden:!a.state.hidden,visible:!a.state.visible})},a.state={hidden:!1,visible:!0},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tile is-vertical box"},this.state.visible?r.a.createElement("button",{className:"button",onClick:this.clickHandler},"\u25b2"):null,this.state.hidden?r.a.createElement("button",{className:"button",onClick:this.clickHandler},"\u25bc"):null,this.state.visible?r.a.createElement("div",null,r.a.createElement("h3",{className:"subtitle"},"Favorites"),r.a.createElement("div",{className:"tile"},this.props.favoriteList.map((function(t){return r.a.createElement(k,{movie:t,deleteFavorite:e.props.deleteFavorite,lookupMovie:e.props.lookupMovie})})))):null)}}]),t}(r.a.Component),j=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(){a.props.changeView()},a.handleFavorite=function(){a.props.setFavorites(a.props.movie.id)},a.handleModal=function(){a.setState({modal:!a.state.modal})},a.hourFormat=function(){var e=a.props.movie.runtime/60,t=Math.floor(e),n=60*(e-t);return t+":"+Math.round(n)},a.moneyFormat=function(){return(new Intl.NumberFormat).format(a.props.movie.revenue)},a.state={modal:!1},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return 1==this.state.modal?r.a.createElement("div",{className:""},r.a.createElement("div",{className:"modal is-active"},r.a.createElement("div",{className:"modal-background",onClick:this.handleModal}),r.a.createElement("img",{className:"modal-content",onClick:this.handleModal,src:"https://image.tmdb.org/t/p/w780/"+this.props.movie.poster})),r.a.createElement("div",{className:"tile is-5 is-vertical box"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"level"},r.a.createElement("h1",{className:"title"},this.props.movie.title),r.a.createElement("div",{className:"navbar-end nev-menu"},r.a.createElement("button",{className:"button nav-item",onClick:this.handleFavorite},"\u2764"),r.a.createElement("button",{className:"button nav-item",onClick:this.handleClick},"Close"))),r.a.createElement("img",{className:"",onClick:this.handleModal,src:"https://image.tmdb.org/t/p/w342/"+this.props.movie.poster})),r.a.createElement("div",{className:""},r.a.createElement("p",{className:"title"},"Overview"),r.a.createElement("p",null,"ReleaseDate: "+this.props.movie.release_date),r.a.createElement("p",null,"Revenue: $"+this.moneyFormat()),r.a.createElement("p",null,"RunTime: "+this.hourFormat()),r.a.createElement("p",null,"Tagline: "+this.props.movie.tagline),r.a.createElement("a",{href:"https://www.imdb.com/title/"+this.props.movie.imdb_id},"imdb"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.themoviedb.org/movie/"+this.props.movie.tmdb_id},"tmdb"),r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},"Ratings"),r.a.createElement("p",null,"Average: "+this.props.movie.ratings.average),r.a.createElement("p",null,"Amount: "+this.props.movie.ratings.count),r.a.createElement("p",null,"Popularity: "+this.props.movie.ratings.popularity),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},"Companies"),this.props.movieInfo.production.companies.map((function(e){return r.a.createElement("p",null,e.name)}))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},"Countries"),this.props.movieInfo.production.countries.map((function(e){return r.a.createElement("p",null,e.name)}))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},"Genres"),this.props.movieInfo.details.genres.map((function(e){return r.a.createElement("p",null,e.name)}))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},"Keywords"),this.props.movieInfo.details.keywords.map((function(e){return r.a.createElement("p",null,e.name)})))))):r.a.createElement("div",{className:"tile is-4 is-vertical box"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"level"},r.a.createElement("h1",{className:"title"},this.props.movie.title),r.a.createElement("div",{className:"navbar-end nev-menu"},r.a.createElement("button",{className:"button nav-item",onClick:this.handleFavorite},"\u2764"),r.a.createElement("button",{className:"button nav-item",onClick:this.handleClick},"Close"))),r.a.createElement("img",{className:"",onClick:this.handleModal,src:"https://image.tmdb.org/t/p/w342/"+this.props.movie.poster})),r.a.createElement("div",{className:""},r.a.createElement("p",{className:"title"},"Overview"),r.a.createElement("p",null,"ReleaseDate: "+this.props.movie.release_date),r.a.createElement("p",null,"Revenue: $"+this.moneyFormat()),r.a.createElement("p",null,"RunTime: "+this.hourFormat()),r.a.createElement("p",null,"Tagline: "+this.props.movie.tagline),r.a.createElement("a",{href:"https://www.imdb.com/title/"+this.props.movie.imdb_id},"imdb"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://www.themoviedb.org/movie/"+this.props.movie.tmdb_id},"tmdb"),r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},"Ratings"),r.a.createElement("p",null,"Average: "+this.props.movie.ratings.average),r.a.createElement("p",null,"Amount: "+this.props.movie.ratings.count),r.a.createElement("p",null,"Popularity: "+this.props.movie.ratings.popularity),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},"Companies"),this.props.movieInfo.production.companies.map((function(e){return r.a.createElement("p",null,e.name)}))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},"Countries"),this.props.movieInfo.production.countries.map((function(e){return r.a.createElement("p",null,e.name)}))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},"Genres"),this.props.movieInfo.details.genres.map((function(e){return r.a.createElement("p",null,e.name)}))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},"Keywords"),this.props.movieInfo.details.keywords.map((function(e){return r.a.createElement("p",null,e.name)})))))}}]),t}(r.a.Component),O=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).clickHandler=function(){a.props.setCast(a.props.cast.id)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",{className:"",onClick:this.clickHandler},r.a.createElement("td",{className:""},"Character: "+this.props.cast.character),r.a.createElement("td",{className:""},"Performed By: "+this.props.cast.name))}}]),t}(r.a.Component),B=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return void 0==this.props.movieInfo.production.cast?r.a.createElement("div",null,r.a.createElement("p",null,"No cast info available")):r.a.createElement("tbody",null,this.props.movieInfo.production.cast.map((function(t){return r.a.createElement(O,{cast:t,setCast:e.props.setCast})})))}}]),t}(r.a.Component),I=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).clickHandler=function(e){},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",{className:"",onClick:this.clickHandler},r.a.createElement("td",{className:""},"Job: "+this.props.crew.department),r.a.createElement("td",{className:""},"Performed By: "+this.props.crew.name))}}]),t}(r.a.Component),V=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return void 0==this.props.movieInfo.production.crew?r.a.createElement("div",null,r.a.createElement("p",null,"No crew info available")):r.a.createElement("tbody",{className:""},this.props.movieInfo.production.crew.map((function(e){return r.a.createElement(I,{crew:e})})))}}]),t}(r.a.Component),M=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).changeCast=function(){a.setState({cast:!0,crew:!1}),document.getElementById("cast").className="nav-item pagination-link is-current",document.getElementById("crew").className="nav-item pagination-link"},a.changeCrew=function(){a.setState({cast:!1,crew:!0}),document.getElementById("cast").className="nav-item pagination-link",document.getElementById("crew").className="nav-item pagination-link is-current"},a.state={cast:!0,crew:!1},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"tile is-vertical box"},r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("h3",{className:"title"},"CastCrewInfo")),r.a.createElement("div",{className:"navbar-end nev-menu"},r.a.createElement("p",{className:"nav-item pagination-link is-current",id:"cast",onClick:this.changeCast},"CastInfo"),r.a.createElement("p",{className:"nav-item pagination-link",id:"crew",onClick:this.changeCrew},"CrewInfo"))),r.a.createElement("table",{className:"table is-bordered is-narrow is-hoverable is-fullwidth"},this.state.cast?r.a.createElement(B,{movieInfo:this.props.movieInfo,setCast:this.props.setCast}):null,this.state.crew?r.a.createElement(V,{movieInfo:this.props.movieInfo}):null))}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).clickHandler=function(){a.props.changeView()},a.state={starInfo:[]},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/person/"+this.props.castID+"?api_key=73a204dda18d707d225e469e77b9e679",e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,this.setState({starInfo:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.castID===t.castID){e.next=9;break}return a="https://api.themoviedb.org/3/person/"+this.props.castID+"?api_key=73a204dda18d707d225e469e77b9e679",e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,this.setState({starInfo:r});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.starInfo?r.a.createElement("div",{className:"tile is-5 is-vertical box"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"level"},r.a.createElement("h1",{className:"title"},this.state.starInfo.name),r.a.createElement("div",{className:"navbar-end nev-menu"},r.a.createElement("button",{className:"button nav-item",onClick:this.clickHandler},"Close"))),r.a.createElement("img",{className:"",src:"https://image.tmdb.org/t/p/w342/"+this.state.starInfo.profile_path})),r.a.createElement("div",null,r.a.createElement("p",null,"Birthday: "+this.state.starInfo.birthday),r.a.createElement("p",null,"Biography: "+this.state.starInfo.biography),r.a.createElement("p",null,"Place of Birth: "+this.state.starInfo.place_of_birth),r.a.createElement("a",{href:"https://www.imdb.com/title/"+this.state.starInfo.imdb_id},"imdb"))):r.a.createElement("div",null)}}]),t}(r.a.Component),S=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).changeView=function(){a.setState({movieView:!a.state.movieView,starView:!a.state.starView})},a.setCast=function(e){a.setState({castID:e}),0==a.state.starView&&a.changeView()},a.state={movie:a.props.movie,movieView:!0,starView:!1,castID:""},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://www.randyconnolly.com/funwebdev/3rd/api/movie/movies.php?id="+this.props.movie.id,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,this.setState({movieInfo:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.movieInfo?r.a.createElement("div",{className:"tile is-ancestor"},this.state.starView?r.a.createElement(x,{changeView:this.changeView,castID:this.state.castID}):null,this.state.movieView?r.a.createElement(j,{changeView:this.props.changeView,movie:this.state.movie,setFavorites:this.props.setFavorites,movieInfo:this.state.movieInfo}):null,r.a.createElement(M,{movieInfo:this.state.movieInfo,changeView:this.changeView,setCast:this.setCast})):r.a.createElement("div",null)}}]),t}(r.a.Component),F=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).setFilters=function(e,t,n,r,i,s,l,o,c,m,u,p,d,v,h){e=e.toLowerCase();var b=a.props.movies;b=b.filter((function(t){return t.title.toLowerCase().includes(e)})),"true"==t&&0==isNaN(n)?b=b.filter((function(e){return e.release_date<n+"-00-00"})):"true"==r&&0==isNaN(i)?b=b.filter((function(e){return e.release_date>i+"-00-00"})):"true"==s&&0==isNaN(l)&&0==isNaN(o)&&(b=b.filter((function(e){return e.release_date>l+"-00-00"&&e.release_date<o+"-00-00"}))),"true"==c&&0==isNaN(m)?b=b.filter((function(e){return e.ratings.average<m})):"true"==u&&0==isNaN(p)?b=b.filter((function(e){return e.ratings.average>p})):"true"==d&&0==isNaN(v)&&0==isNaN(h)&&(b=b.filter((function(e){return e.ratings.average>v&&e.ratings.average<h}))),a.setState({sortedMovies:b})},a.clearFilters=function(){console.log("Clearing Filter");var e=a.props.movies;e=e.filter((function(e){return e.title.includes("")})),a.setState({sortedMovies:e})},a.setFavorites=function(e){var t,n=a.state.favoriteList,r=!0,i=!0,s=!1,l=void 0;try{for(var o,c=n[Symbol.iterator]();!(i=(o=c.next()).done);i=!0){o.value.id==e&&(r=!1)}}catch(b){s=!0,l=b}finally{try{i||null==c.return||c.return()}finally{if(s)throw l}}if(r){var m=!0,u=!1,p=void 0;try{for(var d,v=a.props.movies[Symbol.iterator]();!(m=(d=v.next()).done);m=!0){var h=d.value;h.id==e&&(t=h)}}catch(b){u=!0,p=b}finally{try{m||null==v.return||v.return()}finally{if(u)throw p}}n.push(t),a.setState({favoriteList:n})}},a.deleteFavorite=function(e){var t=a.state.favoriteList;t=t.filter((function(t){return t.id!=e})),a.setState({favoriteList:t})},a.changeView=function(){1==a.state.browse?a.setState({browse:!1,lookup:!0}):a.setState({browse:!0,lookup:!1})},a.lookupMovie=function(e){var t,n=!0,r=!1,i=void 0;try{for(var s,l=a.props.movies[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var o=s.value;o.id==e&&(t=o)}}catch(c){r=!0,i=c}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}a.setState({movie:t}),a.changeView()},a.state={sortedMovies:a.props.movies,favoriteList:[],browse:!0,lookup:!1,movie:""},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement(C,{favoriteList:this.state.favoriteList,deleteFavorite:this.deleteFavorite,lookupMovie:this.lookupMovie}),r.a.createElement("div",{className:"tile is-ancester"},this.state.lookup?r.a.createElement(S,{changeView:this.changeView,movie:this.state.movie,setFavorites:this.setFavorites}):null,this.state.browse?r.a.createElement(N,{setFilters:this.setFilters,clearFilters:this.clearFilters,title:this.props.title}):null,this.state.browse?r.a.createElement(w,{movies:this.state.sortedMovies,setFavorites:this.setFavorites,lookupMovie:this.lookupMovie}):null))}}]),t}(r.a.Component),A=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getTitle=function(e){a.setState({title:e})},a.state={movies:[],selected:"",title:""},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==localStorage.getItem("Movies")){e.next=5;break}console.log("Retrieving data from LocalStorage"),this.setState({movies:JSON.parse(localStorage.getItem("Movies"))}),e.next=21;break;case 5:return console.log("Retrieving data from API"),e.prev=6,"https://www.randyconnolly.com/funwebdev/3rd/api/movie/movies-brief.php?id=ALL",e.next=10,fetch("https://www.randyconnolly.com/funwebdev/3rd/api/movie/movies-brief.php?id=ALL");case 10:return t=e.sent,e.next=13,t.json();case 13:a=e.sent,this.setState({movies:a}),localStorage.setItem("Movies",JSON.stringify(a)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.error(e.t0);case 21:document.getElementById("loading").className="modal";case 22:case"end":return e.stop()}}),e,this,[[6,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"hero is-fullheight has-background-white-ter"},r.a.createElement(b,null),r.a.createElement(f.a,{path:"/",exact:!0,render:function(){return r.a.createElement(E,{getTitle:e.getTitle})}}),r.a.createElement(f.a,{path:"/home",exact:!0,render:function(){return r.a.createElement(E,{getTitle:e.getTitle})}}),r.a.createElement(f.a,{path:"/browse",exact:!0,render:function(t){return r.a.createElement(F,{movies:e.state.movies,title:e.state.title})}}),r.a.createElement("div",{id:"loading",className:"modal is-active"},r.a.createElement("div",{className:"modal-background",onClick:this.modalHandler}),r.a.createElement("div",{className:"modal-content",onClick:this.modalHandler},r.a.createElement("progress",{id:"progress",className:"progress is-large is-info",max:"100"},"60%"))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(h.a,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.c04ea408.chunk.js.map